{% extends "layout.html" %}
{% block body %}
{% if error %}<p class=error><strong>Error:</strong> {{ error }}{% endif %}
<h3>Welcome to the user metrics API!</h3>

<div class=para_courier>
    This is the Wikimedia Foundation's user metrics API homepage.  To get produce a set of metrics you are free to choose
    user cohorts, mix those with a metric type, supply some parameters in the query string, then fire off a new job.

    <div class="v_space"></div>
    Here are a few examples:
    <div class="embed_p"><ol>
        <li>http://127.0.0.1:5000/metrics/e3_acux1_control/blocks?date_start=20110201000005&namespace=0</li>
        <li>http://127.0.0.1:5000/metrics/e3_acux1_acux/bytes_added</li>
    </ol></div>

    <div class="v_space"></div>
    <div class="underline">To build your own request:</div>
    <div class="embed_p">
        http://127.0.0.1:5000/metrics/"user_cohort"/"metric"?"extra_params"<br>
    </div>
    <div class="embed_p">
        List of Cohorts:
        <div class="embed_p">
            <ul>
                {% for cohort in cohort_data %}
                <li>{{ cohort }}</li>
                {% endfor %}
            </ul>
        </div>
    </div>

    <div class="embed_p">
        List of <a href="https://meta.wikimedia.org/wiki/Research:Metrics">Metrics</a>:
        <div class="embed_p">
            <ul>
                <li>Threshold - threshold</li>
                <li>Revert Rate - revert_rate</li>
                <li>Bytes Added - bytes_added</li>
                <li>Survival - survival</li>
                <li>Edit Rate - edit_rate</li>
                <li>Time to Threshold - time_to_threshold</li>
                <li>Blocks - blocks</li>
            </ul>
        </div>
    </div>
</div>

<div class="embed_p">
    Choose a <a href="{{ url_for('cohorts') }}">Cohort</a>.<div class="v_space_sm"></div>
    Check the <a href="{{ url_for('job_queue') }}">Job Queue</a>.<div class="v_space_sm"></div>
    See all generated <a href="{{ url_for('all_urls') }}">requests</a>.
</div>
{% endblock %}
